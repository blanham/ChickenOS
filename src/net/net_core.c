#include <stdio.h>
#include <stdio.h>
#include <mm/liballoc.h>
#include <net/net_core.h>
#include <device/net/rtl8139.h>
#include <device/net/pcnet.h>
uint8_t our_ip[] = {128,135,155,203};
uint8_t their_ip[] = {128,135,155,44};
uint8_t dest_mac[] = { 0x00,0x0c,0x29,0x95,0x05,0x2a};
uint16_t htons(uint16_t val)
{
	uint16_t temp;
	temp = val << 8 | val >> 8;
	return temp;

}
void print_mac(char *mac)
{

	printf("MAC ADDR: %.2X:%.2X:%.2X:%.2X:%.2X:%.2X\n",
		mac[0]&0xff,mac[1]&0xff,mac[2]&0xff,
		mac[3]&0xff,mac[4]&0xff,mac[5]&0xff);

}
struct network_dev *net_device;
char packet2[] = {
0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0xc0, 
0x9f, 0x50, 0x32, 0xa0, 0x08, 0x06, 0x00, 0x01, 
0x08, 0x00, 0x06, 0x04, 0x00, 0x01, 0x00, 0xc0, 
0x9f, 0x50, 0x32, 0xa0, 0x80, 0x87, 0x9b, 0xcb, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x80, 0x87, 
0x9b, 0x57, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00 };

void network_init()
{

	net_device = rtl8139_init();
	if(net_device == NULL)
		net_device = pcnet_init();
//	uint8_t buf[100];
//	udp_send(net_device, 25000, 80, buf, 100);
//	char mac[] = {0xff,0xff,0xff,0xff,0xff,0xff};
//ethernet_send(net_device, (uint8_t *)packet2+14, 60-14, 0x806, mac);
}

