


VI(1)                                                       VI(1)


NNAAMMEE
       ex, vi, view - text editors

SSYYNNOOPPSSIISS
       eexx [--eeFFRRrrSSssvv] [--cc _c_m_d] [--tt _t_a_g] [--ww _s_i_z_e] [file ...]
       vvii [--eeFFllRRrrSSvv] [--cc _c_m_d] [--tt _t_a_g] [--ww _s_i_z_e] [file ...]
       vviieeww [--eeFFRRrrSSvv] [--cc _c_m_d] [--tt _t_a_g] [--ww _s_i_z_e] [file ...]

LLIICCEENNSSEE
       The vi program is freely redistributable.  You are welcome
       to copy, modify and share it with others under the  condi-
       tions  listed  in  the  LICENSE file.  If any company (not
       individual!) finds vi sufficiently useful that  you  would
       have  purchased  it,  or  if  any company wishes to redis-
       tribute it, contributions to the authors would be appreci-
       ated.

DDEESSCCRRIIPPTTIIOONN
       _V_i  is  a  screen oriented text editor.  _E_x is a line-ori-
       ented text editor.  _E_x and _v_i are different interfaces  to
       the  same  program,  and it is possible to switch back and
       forth during an edit session.  _V_i_e_w is the  equivalent  of
       using the --RR (read-only) option of _v_i.

       This manual page is the one provided with the _n_e_x_/_n_v_i ver-
       sions of the _e_x_/_v_i text editors.  _N_e_x_/_n_v_i are intended  as
       bug-for-bug   compatible  replacements  for  the  original
       Fourth Berkeley Software Distribution  (4BSD)  _e_x  and  _v_i
       programs.   For  the  rest of this manual page, _n_e_x_/_n_v_i is
       used only when it's necessary to distinguish it  from  the
       historic implementations of _e_x_/_v_i.

       This  manual  page  is intended for users already familiar
       with _e_x_/_v_i.  Anyone else should almost  certainly  read  a
       good  tutorial  on the editor before this manual page.  If
       you're in an unfamiliar environment,  and  you  absolutely
       have  to get work done immediately, read the section after
       the options description, entitled ``Fast Startup''.   It's
       probably enough to get you going.

       The following options are available:

       --cc     Execute  ccmmdd  immediately  after  starting the edit
              session.  Particularly useful for initial position-
              ing  in  the  file,  however  ccmmdd is not limited to
              positioning commands.  This  is  the  POSIX  1003.2
              interface   for   the   historic  ``+cmd''  syntax.
              _N_e_x_/_n_v_i supports both the old and new syntax.

       --ee     Start editing in ex mode, as if  the  command  name
              were _e_x.

       --FF     Don't  copy  the entire file when first starting to
              edit.  (The default is  to  make  a  copy  in  case



                         October 10, 1996                       1





VI(1)                                                       VI(1)


              someone  else  modifies  the  file during your edit
              session.)

       --ll     Start editing with the lisp and  showmatch  options
              set.

       --RR     Start  editing in read-only mode, as if the command
              name was _v_i_e_w, or the rreeaaddoonnllyy option was set.

       --rr     Recover the specified files, or, if  no  files  are
              specified,  list the files that could be recovered.
              If no  recoverable  files  by  the  specified  name
              exist,  the  file is edited as if the --rr option had
              not been specified.

       --SS     Run with the sseeccuurree edit  option  set,  disallowing
              all access to external programs.

       --ss     Enter  batch  mode; applicable only to _e_x edit ses-
              sions.   Batch  mode  is  useful  when  running  _e_x
              scripts.   Prompts,  informative messages and other
              user  oriented  message  are  turned  off,  and  no
              startup  files or environmental variables are read.
              This is the POSIX 1003.2 interface for the historic
              ``-''  argument.  _N_e_x_/_n_v_i supports both the old and
              new syntax.

       --tt     Start  editing  at   the   specified   tag.    (See
              _c_t_a_g_s(1)).

       --ww     Set the initial window size to the specified number
              of lines.

       --vv     Start editing in vi mode, as if  the  command  name
              was _v_i or _v_i_e_w.

       Command  input  for _e_x_/_v_i is read from the standard input.
       In the _v_i interface, it is an error if standard  input  is
       not a terminal.  In the _e_x interface, if standard input is
       not a terminal, _e_x will read commands from it  regardless,
       however, the session will be a batch mode session, exactly
       as if the --ss option had been specified.

       _E_x_/_v_i exits 0 on success, and greater than 0 if  an  error
       occurs.

FFAASSTT SSTTAARRTTUUPP
       This  section  will  tell  you the minimum amount that you
       need to do simple editing tasks using _v_i.  If you've never
       used any screen editor before, you're likely to have prob-
       lems even with this simple introduction.  In that case you
       should  find  someone  that already knows _v_i and have them
       walk you through this section.




                         October 10, 1996                       2





VI(1)                                                       VI(1)


       _V_i is a screen editor.  This means that it takes up almost
       the  entire  screen,  displaying  part of the file on each
       screen line, except for the last line of the screen.   The
       last  line  of the screen is used for you to give commands
       to _v_i, and for _v_i to give information to you.

       The other fact that you need to understand is that _v_i is a
       modeful  editor,  i.e. you are either entering text or you
       are executing commands, and you have to be  in  the  right
       mode  to do one or the other.  You will be in command mode
       when you first start editing a file.  There  are  commands
       that  switch  you  into input mode.  There is only one key
       that takes you out of input mode, and that is the <escape>
       key.   (Key names are written using less-than and greater-
       than signs, e.g.  <escape> means the ``escape'' key,  usu-
       ally  labeled  ``esc''  on  your terminal's keyboard.)  If
       you're ever confused as to  which  mode  you're  in,  keep
       entering  the <escape> key until _v_i beeps at you.  (Gener-
       ally, _v_i will beep at you if  you  try  and  do  something
       that's not allowed.  It will also display error messages.)

       To  start  editing  a  file,  enter   the   command   ``vi
       file_name<carriage-return>''.    The  command  you  should
       enter as soon as you start editing is ``:set verbose show-
       mode<carriage-return>''.   This  will make the editor give
       you verbose error messages and display the current mode at
       the bottom of the screen.

       The commands to move around the file are:

       hh      Move the cursor left one character.

       jj      Move the cursor down one line.

       kk      Move the cursor up one line.

       ll      Move the cursor right one character.

       <<ccuurrssoorr--aarrrroowwss>>
              The cursor arrow keys should work, too.

       //tteexxtt<<ccaarrrriiaaggee--rreettuurrnn>>
              Search  for  the  string  ``text'' in the file, and
              move the cursor to its first character.

       The commands to enter new text are:

       aa      Append new text, _a_f_t_e_r the cursor.

       ii      Insert new text, _b_e_f_o_r_e the cursor.

       oo      Open a new line below the line the  cursor  is  on,
              and start entering text.




                         October 10, 1996                       3





VI(1)                                                       VI(1)


       OO      Open  a  new  line above the line the cursor is on,
              and start entering text.

       <<eessccaappee>>
              Once you've entered input mode using the one of the
              aa,  ii, OO or oo commands, use <<eessccaappee>> to quit enter-
              ing text and return to command mode.

       The commands to copy text are:

       yyyy     Copy the line the cursor is on.

       pp      Append the copied line after the line the cursor is
              on.

       The commands to delete text are:

       dddd     Delete the line the cursor is on.

       xx      Delete the character the cursor is on.

       The commands to write the file are:

       ::ww<<ccaarrrriiaaggee--rreettuurrnn>>
              Write  the file back to the file with the name that
              you originally used as an argument on the  _v_i  com-
              mand line.

       ::ww ffiillee__nnaammee<<ccaarrrriiaaggee--rreettuurrnn>>
              Write  the  file  back  to  the  file with the name
              ``file_name''.

       The commands to quit editing and exit the editor are:

       ::qq<<ccaarrrriiaaggee--rreettuurrnn>>
              Quit editing and leave vi (if you've  modified  the
              file, but not saved your changes, _v_i will refuse to
              quit).

       ::qq!!<<ccaarrrriiaaggee--rreettuurrnn>>
              Quit, discarding any  modifications  that  you  may
              have made.

       One  final  caution.   Unusual characters can take up more
       than one column on the screen, and long lines can take  up
       more  than  a single screen line.  The above commands work
       on ``physical'' characters and lines, i.e. they affect the
       entire  line  no  matter how many screen lines it takes up
       and the entire character no matter how many screen columns
       it takes up.

VVII CCOOMMMMAANNDDSS
       The  following section describes the commands available in
       the command mode of the _v_i editor.  In each  entry  below,



                         October 10, 1996                       4





VI(1)                                                       VI(1)


       the  tag  line is a usage synopsis for the command charac-
       ter.


       [[ccoouunntt]] <<ccoonnttrrooll--AA>>
              Search forward _c_o_u_n_t times for the current word.

       [[ccoouunntt]] <<ccoonnttrrooll--BB>>
              Page backwards _c_o_u_n_t screens.

       [[ccoouunntt]] <<ccoonnttrrooll--DD>>
              Scroll forward _c_o_u_n_t lines.

       [[ccoouunntt]] <<ccoonnttrrooll--EE>>
              Scroll forward _c_o_u_n_t  lines,  leaving  the  current
              line and column as is, if possible.

       [[ccoouunntt]] <<ccoonnttrrooll--FF>>
              Page forward _c_o_u_n_t screens.

       <<ccoonnttrrooll--GG>>
              Display the file information.

       <<ccoonnttrrooll--HH>>

       [[ccoouunntt]] hh
              Move  the  cursor back _c_o_u_n_t characters in the cur-
              rent line.

       [[ccoouunntt]] <<ccoonnttrrooll--JJ>>

       [[ccoouunntt]] <<ccoonnttrrooll--NN>>

       [[ccoouunntt]] jj
              Move the cursor down _c_o_u_n_t lines  without  changing
              the current column.

       <<ccoonnttrrooll--LL>>

       <<ccoonnttrrooll--RR>>
              Repaint the screen.

       [[ccoouunntt]] <<ccoonnttrrooll--MM>>

       [[ccoouunntt]] ++
              Move  the cursor down _c_o_u_n_t lines to the first non-
              blank character of that line.

       [[ccoouunntt]] <<ccoonnttrrooll--PP>>

       [[ccoouunntt]] kk
              Move the cursor up _c_o_u_n_t  lines,  without  changing
              the current column.




                         October 10, 1996                       5





VI(1)                                                       VI(1)


       <<ccoonnttrrooll--TT>>
              Return to the most recent tag context.

       <<ccoonnttrrooll--UU>>
              Scroll backwards _c_o_u_n_t lines.

       <<ccoonnttrrooll--WW>>
              Switch  to the next lower screen in the window, or,
              to the first screen if there are no  lower  screens
              in the window.

       <<ccoonnttrrooll--YY>>
              Scroll  backwards  _c_o_u_n_t lines, leaving the current
              line and column as is, if possible.

       <<ccoonnttrrooll--ZZ>>
              Suspend the current editor session.

       <<eessccaappee>>
              Execute _e_x commands or cancel partial commands.

       <<ccoonnttrrooll--]]>>
              Push a tag reference onto the tag stack.

       <<ccoonnttrrooll--^^>>
              Switch to the most recently edited file.

       [[ccoouunntt]] <<ssppaaccee>>

       [[ccoouunntt]] ll
              Move the cursor forward  _c_o_u_n_t  characters  without
              changing the current line.

       [[ccoouunntt]] !! mmoottiioonn sshheellll--aarrgguummeenntt((ss))
              Replace text with results from a shell command.

       [[ccoouunntt]] ## ##||++||--
              Increment or decrement the cursor number.

       [[ccoouunntt]] $$
              Move the cursor to the end of a line.

       %%      Move to the matching character.

       &&      Repeat  the  previous  substitution  command on the
              current line.

       ''<<cchhaarraacctteerr>>

       ``<<cchhaarraacctteerr>>
              Return to a context marked by the character  _<_c_h_a_r_-
              _a_c_t_e_r_>.





                         October 10, 1996                       6





VI(1)                                                       VI(1)


       [[ccoouunntt]] ((
              Back up _c_o_u_n_t sentences.

       [[ccoouunntt]] ))
              Move forward _c_o_u_n_t sentences.

       [[ccoouunntt]] ,,
              Reverse find character _c_o_u_n_t times.

       [[ccoouunntt]] --
              Move  to first nonblank of the previous line, _c_o_u_n_t
              times.

       [[ccoouunntt]] ..
              Repeat the last _v_i command that modified text.

       //RREE<<ccaarrrriiaaggee--rreettuurrnn>>

       //RREE// [[ooffffsseett]]<<ccaarrrriiaaggee--rreettuurrnn>>

       ??RREE<<ccaarrrriiaaggee--rreettuurrnn>>

       ??RREE?? [[ooffffsseett]]<<ccaarrrriiaaggee--rreettuurrnn>>

       NN

       nn      Search forward or backward for  a  regular  expres-
              sion.

       00      Move to the first character in the current line.

       ::      Execute an ex command.

       [[ccoouunntt]] ;;
              Repeat the last character find _c_o_u_n_t times.

       [[ccoouunntt]] << mmoottiioonn

       [[ccoouunntt]] >> mmoottiioonn
              Shift lines left or right.

       @@ bbuuffffeerr
              Execute a named buffer.

       [[ccoouunntt]] AA
              Enter  input mode, appending the text after the end
              of the line.

       [[ccoouunntt]] BB
              Move backwards _c_o_u_n_t bigwords.

       [[bbuuffffeerr]] [[ccoouunntt]] CC
              Change text from the current position to  the  end-
              of-line.



                         October 10, 1996                       7





VI(1)                                                       VI(1)


       [[bbuuffffeerr]] DD
              Delete  text  from the current position to the end-
              of-line.

       [[ccoouunntt]] EE
              Move forward _c_o_u_n_t end-of-bigwords.

       [[ccoouunntt]] FF <<cchhaarraacctteerr>>
              Search _c_o_u_n_t times  backward  through  the  current
              line for _<_c_h_a_r_a_c_t_e_r_>.

       [[ccoouunntt]] GG
              Move to line _c_o_u_n_t, or the last line of the file if
              _c_o_u_n_t not specified.

       [[ccoouunntt]] HH
              Move to the screen line _c_o_u_n_t _- _1 lines  below  the
              top of the screen.

       [[ccoouunntt]] II
              Enter  input mode, inserting the text at the begin-
              ning of the line.

       [[ccoouunntt]] JJ
              Join lines.

       [[ccoouunntt]] LL
              Move to the screen line _c_o_u_n_t _- _1 lines  above  the
              bottom of the screen.

        MM     Move  to  the  screen  line  in  the  middle of the
              screen.

       [[ccoouunntt]] OO
              Enter input mode, appending  text  in  a  new  line
              above the current line.

       [[bbuuffffeerr]] PP
              Insert text from a buffer.

       QQ      Exit _v_i (or visual) mode and switch to _e_x mode.

       [[ccoouunntt]] RR
              Enter  input  mode, replacing the characters in the
              current line.

       [[bbuuffffeerr]] [[ccoouunntt]] SS
              Substitute _c_o_u_n_t lines.

       [[ccoouunntt]] TT <<cchhaarraacctteerr>>
              Search backwards, _c_o_u_n_t times, through the  current
              line for the character _a_f_t_e_r the specified _<_c_h_a_r_a_c_-
              _t_e_r_>.




                         October 10, 1996                       8





VI(1)                                                       VI(1)


       UU      Restore the current line to its  state  before  the
              cursor last moved to it.

       [[ccoouunntt]] WW
              Move forward _c_o_u_n_t bigwords.

       [[bbuuffffeerr]] [[ccoouunntt]] XX
              Delete _c_o_u_n_t characters before the cursor.

       [[bbuuffffeerr]] [[ccoouunntt]] YY
              Copy  (or  ``yank'') _c_o_u_n_t lines into the specified
              buffer.

       ZZZZ     Write the file and exit _v_i.

       [[ccoouunntt]] [[[[
              Back up _c_o_u_n_t section boundaries.

       [[ccoouunntt]] ]]]]
              Move forward _c_o_u_n_t section boundaries.

       ^^      Move to first nonblank  character  on  the  current
              line.

       [[ccoouunntt]] __
              Move  down  _c_o_u_n_t  _- _1 lines, to the first nonblank
              character.

       [[ccoouunntt]] aa
              Enter input mode, appending the text after the cur-
              sor.

       [[ccoouunntt]] bb
              Move backwards _c_o_u_n_t words.

       [[bbuuffffeerr]] [[ccoouunntt]] cc mmoottiioonn
              Change a region of text.

       [[bbuuffffeerr]] [[ccoouunntt]] dd mmoottiioonn
              Delete a region of text.

       [[ccoouunntt]] ee
              Move forward _c_o_u_n_t end-of-words.

       [[ccoouunntt]] ff<<cchhaarraacctteerr>>
              Search  forward,  _c_o_u_n_t  times, through the rest of
              the current line for _<_c_h_a_r_a_c_t_e_r_>.

       [[ccoouunntt]] ii
              Enter input mode, inserting  the  text  before  the
              cursor.

       mm <<cchhaarraacctteerr>>
              Save  the  current  context  (line  and  column) as



                         October 10, 1996                       9





VI(1)                                                       VI(1)


              _<_c_h_a_r_a_c_t_e_r_>.

       [[ccoouunntt]] oo
              Enter input mode, appending  text  in  a  new  line
              under the current line.

       [[bbuuffffeerr]] pp
              Append text from a buffer.

       [[ccoouunntt]] rr <<cchhaarraacctteerr>>
              Replace _c_o_u_n_t characters.

       [[bbuuffffeerr]] [[ccoouunntt]] ss
              Substitute  _c_o_u_n_t  characters  in  the current line
              starting with the current character.

       [[ccoouunntt]] tt <<cchhaarraacctteerr>>
              Search forward, _c_o_u_n_t times,  through  the  current
              line  for the character immediately _b_e_f_o_r_e _<_c_h_a_r_a_c_-
              _t_e_r_>.

       uu      Undo the last change made to the file.

       [[ccoouunntt]] ww
              Move forward _c_o_u_n_t words.

       [[bbuuffffeerr]] [[ccoouunntt]] xx
              Delete _c_o_u_n_t characters.

       [[bbuuffffeerr]] [[ccoouunntt]] yy mmoottiioonn
              Copy (or ``yank'') a text region specified  by  the
              _c_o_u_n_t and motion into a buffer.

       [[ccoouunntt11]] zz [[ccoouunntt22]] --||..||++||^^||<<ccaarrrriiaaggee--rreettuurrnn>>
              Redraw,  optionally  repositioning and resizing the
              screen.

       [[ccoouunntt]] {{
              Move backward _c_o_u_n_t paragraphs.

       [[ccoouunntt]] ||
              Move to a specific _c_o_l_u_m_n position on  the  current
              line.

       [[ccoouunntt]] }}
              Move forward _c_o_u_n_t paragraphs.

       [[ccoouunntt]] ~~
              Reverse the case of the next _c_o_u_n_t character(s).

       [[ccoouunntt]] ~~ mmoottiioonn
              Reverse the case of the characters in a text region
              specified by the _c_o_u_n_t and _m_o_t_i_o_n.




                         October 10, 1996                      10





VI(1)                                                       VI(1)


       <<iinntteerrrruupptt>>
              Interrupt the current operation.

VVII TTEEXXTT IINNPPUUTT CCOOMMMMAANNDDSS
       The following section describes the commands available  in
       the text input mode of the _v_i editor.


       <<nnuull>>  Replay the previous input.

       <<ccoonnttrrooll--DD>>
              Erase to the previous sshhiiffttwwiiddtthh column boundary.

       ^^<<ccoonnttrrooll--DD>>
              Erase  all  of the autoindent characters, and reset
              the autoindent level.

       00<<ccoonnttrrooll--DD>>
              Erase all of the autoindent characters.

       <<ccoonnttrrooll--TT>>
              Insert sufficient _<_t_a_b_> and _<_s_p_a_c_e_>  characters  to
              move  forward  to the next sshhiiffttwwiiddtthh column bound-
              ary.

       <<eerraassee>>

       <<ccoonnttrrooll--HH>>
              Erase the last character.

       <<lliitteerraall nneexxtt>>
              Quote the next character.

       <<eessccaappee>>
              Resolve all text input into the file, and return to
              command mode.

       <<lliinnee eerraassee>>
              Erase the current line.

       <<ccoonnttrrooll--WW>>

       <<wwoorrdd eerraassee>>
              Erase  the  last  word.   The definition of word is
              dependent on the aallttwweerraassee and ttttyywweerraassee options.

       <<ccoonnttrrooll--XX>>[[00--99AA--FFaa--ff]]++
              Insert a character with the  specified  hexadecimal
              value into the text.

       <<iinntteerrrruupptt>>
              Interrupt  text  input  mode,  returning to command
              mode.




                         October 10, 1996                      11





VI(1)                                                       VI(1)


EEXX CCOOMMMMAANNDDSS
       The following section describes the commands available  in
       the  _e_x  editor.   In  each entry below, the tag line is a
       usage synopsis for the command.


       <<eenndd--ooff--ffiillee>>
              Scroll the screen.

       !! aarrgguummeenntt((ss))

       [[rraannggee]]!! aarrgguummeenntt((ss))
              Execute a shell command, or filter lines through  a
              shell command.

       ""      A comment.

       [[rraannggee]] nnuu[[mmbbeerr]] [[ccoouunntt]] [[ffllaaggss]]

       [[rraannggee]] ## [[ccoouunntt]] [[ffllaaggss]]
              Display  the selected lines, each preceded with its
              line number.

       @@ bbuuffffeerr

       ** bbuuffffeerr
              Execute a buffer.

       [[lliinnee]] aa[[ppppeenndd]][[!!]]
              The input text  is  appended  after  the  specified
              line.

       [[rraannggee]] cc[[hhaannggee]][[!!]] [[ccoouunntt]]
              The input text replaces the specified range.

       ccss[[ccooppee]] aadddd || ffiinndd || hheellpp || kkiillll || rreesseett
              Execute a Cscope command.

       [[rraannggee]] dd[[eelleettee]] [[bbuuffffeerr]] [[ccoouunntt]] [[ffllaaggss]]
              Delete the lines from the file.

       ddii[[ssppllaayy]] bb[[uuffffeerrss]] || cc[[oonnnneeccttiioonnss]] || ss[[ccrreeeennss]] || tt[[aaggss]]
              Display  buffers,  Cscope  connections,  screens or
              tags.

       [[EEee]][[ddiitt]][[!!]] [[++ccmmdd]] [[ffiillee]]

       [[EEee]]xx[[!!]] [[++ccmmdd]] [[ffiillee]]
              Edit a different file.

       eexxuu[[ssaaggee]] [[ccoommmmaanndd]]
              Display usage for an _e_x command.





                         October 10, 1996                      12





VI(1)                                                       VI(1)


       ff[[iillee]] [[ffiillee]]
              Display and optionally change the file name.

       [[FFff]]gg [[nnaammee]]
              _V_i mode only.  Foreground the specified screen.

       [[rraannggee]] gg[[lloobbaall]] //ppaatttteerrnn// [[ccoommmmaannddss]]

       [[rraannggee]] vv //ppaatttteerrnn// [[ccoommmmaannddss]]
              Apply commands to lines matching (or not  matching)
              a pattern.

       hhee[[llpp]] Display a help message.

       [[lliinnee]] ii[[nnsseerrtt]][[!!]]
              The  input  text  is  inserted before the specified
              line.

       [[rraannggee]] jj[[ooiinn]][[!!]] [[ccoouunntt]] [[ffllaaggss]]
              Join lines of text together.

       [[rraannggee]] ll[[iisstt]] [[ccoouunntt]] [[ffllaaggss]]
              Display the lines unambiguously.

       mmaapp[[!!]] [[llhhss rrhhss]]
              Define or display maps (for _v_i only).

       [[lliinnee]] mmaa[[rrkk]] <<cchhaarraacctteerr>>

       [[lliinnee]] kk <<cchhaarraacctteerr>>
              Mark the line with the mark _<_c_h_a_r_a_c_t_e_r_>.

       [[rraannggee]] mm[[oovvee]] lliinnee
              Move the specified lines after the target line.

       mmkk[[eexxrrcc]][[!!]] ffiillee
              Write the abbreviations, editor options and maps to
              the specified file.

       [[NNnn]][[eexxtt]][[!!]] [[ffiillee ......]]
              Edit the next file from the argument list.

       [[lliinnee]] oo[[ppeenn]] //ppaatttteerrnn// [[ffllaaggss]]
              Enter open mode.

       pprree[[sseerrvvee]]
              Save the file in a form that can later be recovered
              using the _e_x --rr option.

       [[PPpp]]rreevv[[iioouuss]][[!!]]
              Edit the previous file from the argument list.

       [[rraannggee]] pp[[rriinntt]] [[ccoouunntt]] [[ffllaaggss]]
              Display the specified lines.



                         October 10, 1996                      13





VI(1)                                                       VI(1)


       [[lliinnee]] ppuu[[tt]] [[bbuuffffeerr]]
              Append buffer contents to the current line.

       qq[[uuiitt]][[!!]]
              End the editing session.

       [[lliinnee]] rr[[eeaadd]][[!!]] [[ffiillee]]
              Read a file.

       rreecc[[oovveerr]] ffiillee
              Recover _f_i_l_e if it was previously saved.

       rreess[[iizzee]] [[++||--]]ssiizzee
              _V_i mode only.  Grow or shrink the current screen.

       rreeww[[iinndd]][[!!]]
              Rewind the argument list.

       ssee[[tt]] [[ooppttiioonn[[==[[vvaalluuee]]]] ......]] [[nnooooppttiioonn ......]] [[ooppttiioonn?? ......]]
              [[aallll]]
              Display or set editor options.

       sshh[[eellll]]
              Run a shell program.

       ssoo[[uurrccee]] ffiillee
              Read and execute _e_x commands from a file.

       [[rraannggee]]   ss[[uubbssttiittuuttee]]   [[//ppaatttteerrnn//rreeppllaaccee//]]   [[ooppttiioonnss]]
              [[ccoouunntt]] [[ffllaaggss]]

       [[rraannggee]] && [[ooppttiioonnss]] [[ccoouunntt]] [[ffllaaggss]]

       [[rraannggee]] ~~ [[ooppttiioonnss]] [[ccoouunntt]] [[ffllaaggss]]
              Make substitutions.

       ssuu[[ssppeenndd]][[!!]]

       sstt[[oopp]][[!!]]

       <<ssuussppeenndd>>
              Suspend the edit session.

       [[TTtt]]aa[[gg]][[!!]] ttaaggssttrriinngg
              Edit the file containing the specified tag.

       ttaaggnn[[eexxtt]][[!!]]
              Edit  the  file containing the next context for the
              current tag.

       ttaaggpp[[oopp]][[!!]] [[ffiillee || nnuummbbeerr]]
              Pop to the specified tag in the tags stack.





                         October 10, 1996                      14





VI(1)                                                       VI(1)


       ttaaggpp[[rreevv]][[!!]]
              Edit the file containing the previous  context  for
              the current tag.

       uunnmm[[aapp]][[!!]] llhhss
              Unmap a mapped string.

       vvee[[rrssiioonn]]
              Display the version of the _e_x_/_v_i editor.

       [[lliinnee]] vvii[[ssuuaall]] [[ttyyppee]] [[ccoouunntt]] [[ffllaaggss]]
              _E_x mode only.  Enter _v_i.

       [[VVii]]ii[[ssuuaall]][[!!]] [[++ccmmdd]] [[ffiillee]]
              _V_i mode only.  Edit a new file.

       vviiuu[[ssaaggee]] [[ccoommmmaanndd]]
              Display usage for a _v_i command.

       [[rraannggee]] ww[[rriittee]][[!!]] [[>>>>]] [[ffiillee]]

       [[rraannggee]] ww[[rriittee]] [[!!]] [[ffiillee]]

       [[rraannggee]] wwnn[[!!]] [[>>>>]] [[ffiillee]]

       [[rraannggee]] wwqq[[!!]] [[>>>>]] [[ffiillee]]
              Write the file.

       [[rraannggee]] xx[[iitt]][[!!]] [[ffiillee]]
              Write the file if it has been modified.

       [[rraannggee]] yyaa[[nnkk]] [[bbuuffffeerr]] [[ccoouunntt]]
              Copy the specified lines to a buffer.

       [[lliinnee]] zz [[ttyyppee]] [[ccoouunntt]] [[ffllaaggss]]
              Adjust the window.

SSEETT OOPPTTIIOONNSS
       There  are  a  large number of options that may be set (or
       unset) to change  the  editor's  behavior.   This  section
       describes  the  options,  their  abbreviations  and  their
       default values.

       In each entry below, the first part of the tag line is the
       full name of the option, followed by any equivalent abbre-
       viations.  The part in  square  brackets  is  the  default
       value  of  the  option.   Most of the options are boolean,
       i.e. they are either on or off, and do not have an associ-
       ated value.

       Options  apply  to  both _e_x and _v_i modes, unless otherwise
       specified.





                         October 10, 1996                      15





VI(1)                                                       VI(1)


       aallttwweerraassee [[ooffff]]
              _V_i only.  Select an alternate word erase algorithm.

       aauuttooiinnddeenntt,, aaii [[ooffff]]
              Automatically indent new lines.

       aauuttoopprriinntt,, aapp [[ooffff]]
              _E_x only.  Display the current line automatically.

       aauuttoowwrriittee,, aaww [[ooffff]]
              Write  modified  files  automatically when changing
              files.

       bbaacckkuupp [[""""]]
              Backup files before they are overwritten.

       bbeeaauuttiiffyy,, bbff [[ooffff]]
              Discard control characters.

       ccddppaatthh [[eennvviirroonnmmeenntt vvaarriiaabbllee CCDDPPAATTHH,, oorr ccuurrrreenntt ddiirreeccttoorryy]]
              The  directory  paths used as path prefixes for the
              ccdd command.

       cceeddiitt [[nnoo ddeeffaauulltt]]
              Set the character to edit  the  colon  command-line
              history.

       ccoolluummnnss,, ccoo [[8800]]
              Set the number of columns in the screen.

       ccoommmmeenntt [[ooffff]]
              _V_i only.  Skip leading comments in shell, C and C++
              language files.

       ddiirreeccttoorryy,, ddiirr [[eennvviirroonnmmeenntt vvaarriiaabbllee TTMMPPDDIIRR,, oorr //ttmmpp]]
              The directory where temporary files are created.

       eeddccoommppaattiibbllee,, eedd [[ooffff]]
              Remember the values of the ``c'' and ``g'' suffices
              to the ssuubbssttiittuuttee commands, instead of initializing
              them as unset for each new command.

       eerrrroorrbbeellllss,, eebb [[ooffff]]
              _E_x only.  Announce error messages with a bell.

       eexxrrcc,, eexx [[ooffff]]
              Read the startup files in the local directory.

       eexxtteennddeedd [[ooffff]]
              Regular    expressions    are    extended     (i.e.
              _e_g_r_e_p(1)-style) expressions.

       ffiilleecc [[nnoo ddeeffaauulltt]]
              Set  the  character to perform file path completion



                         October 10, 1996                      16





VI(1)                                                       VI(1)


              on the colon command line.

       ffllaasshh [[oonn]]
              Flash the screen instead of beeping the keyboard on
              error.

       hhaarrddttaabbss,, hhtt [[88]]
              Set the spacing between hardware tab settings.

       iicclloowweerr [[ooffff]]
              Makes  all Regular Expressions case-insensitive, as
              long as an upper-case letter does not appear in the
              search string.

       iiggnnoorreeccaassee,, iicc [[ooffff]]
              Ignore case differences in regular expressions.

       kkeeyyttiimmee [[66]]
              The 10th's of a second _e_x_/_v_i waits for a subsequent
              key to complete a key mapping.

       lleeffttrriigghhtt [[ooffff]]
              _V_i only.  Do left-right scrolling.

       lliinneess,, llii [[2244]]
              _V_i only.  Set the number of lines in the screen.

       lliisspp [[ooffff]]
              _V_i  only.   Modify  various  search  commands   and
              options  to work with Lisp.  _T_h_i_s _o_p_t_i_o_n _i_s _n_o_t _y_e_t
              _i_m_p_l_e_m_e_n_t_e_d_.

       lliisstt [[ooffff]]
              Display lines in an unambiguous fashion.

       lloocckk [[oonn]]
              Attempt to get an exclusive lock on any file  being
              edited, read or written.

       mmaaggiicc [[oonn]]
              Treat   certain  characters  specially  in  regular
              expressions.

       mmaattcchhttiimmee [[77]]
              _V_i only.  The 10th's of a second  _e_x_/_v_i  pauses  on
              the matching character when the sshhoowwmmaattcchh option is
              set.

       mmeessgg [[oonn]]
              Permit messages from other users.

       mmooddeelliinneess,, mmooddeelliinnee [[ooffff]]
              Read the first and last few lines of each file  for
              _e_x   commands.    _T_h_i_s   _o_p_t_i_o_n   _w_i_l_l   _n_e_v_e_r   _b_e



                         October 10, 1996                      17





VI(1)                                                       VI(1)


              _i_m_p_l_e_m_e_n_t_e_d_.

       nnoopprriinntt [[""""]]
              Characters that  are  never  handled  as  printable
              characters.

       nnuummbbeerr,, nnuu [[ooffff]]
              Precede  each  line displayed with its current line
              number.

       ooccttaall [[ooffff]]
              Display  unknown  characters  as   octal   numbers,
              instead of the default hexadecimal.

       ooppeenn [[oonn]]
              _E_x  only.   If this option is not set, the ooppeenn and
              vviissuuaall commands are disallowed.

       ooppttiimmiizzee,, oopptt [[oonn]]
              _V_i only.  Optimize text throughput to  dumb  termi-
              nals.  _T_h_i_s _o_p_t_i_o_n _i_s _n_o_t _y_e_t _i_m_p_l_e_m_e_n_t_e_d_.

       ppaarraaggrraapphhss,, ppaarraa [[IIPPLLPPPPPPQQPPPP LLIIppppllppiippbbpp]]
              _V_i  only.   Define  additional paragraph boundaries
              for the {{ and }} commands.

       ppaatthh [[]]
              Define additional directories to search  for  files
              being edited.

       pprriinntt [[""""]]
              Characters  that  are  always  handled as printable
              characters.

       pprroommpptt [[oonn]]
              _E_x only.  Display a command prompt.

       rreeaaddoonnllyy,, rroo [[ooffff]]
              Mark the file and session as read-only.

       rreeccddiirr [[//vvaarr//ttmmpp//vvii..rreeccoovveerr]]
              The directory where recovery files are stored.

       rreeddrraaww,, rree [[ooffff]]
              _V_i only.  Simulate an  intelligent  terminal  on  a
              dumb one.  _T_h_i_s _o_p_t_i_o_n _i_s _n_o_t _y_e_t _i_m_p_l_e_m_e_n_t_e_d_.

       rreemmaapp [[oonn]]
              Remap keys until resolved.

       rreeppoorrtt [[55]]
              Set  the  number  of  lines  about which the editor
              reports changes or yanks.




                         October 10, 1996                      18





VI(1)                                                       VI(1)


       rruulleerr [[ooffff]]
              _V_i only.  Display a row/column ruler on  the  colon
              command line.

       ssccrroollll,, ssccrr [[wwiinnddooww // 22]]
              Set the number of lines scrolled.

       sseeaarrcchhiinnccrr [[ooffff]]
              Makes the // and ??  commands incremental.

       sseeccttiioonnss,, sseecctt [[NNHHSSHHHH HHUUnnhhsshh]]
              _V_i  only.  Define additional section boundaries for
              the [[[[ and ]]]] commands.

       sseeccuurree [[ooffff]]
              Turns off all access to external programs.

       sshheellll,, sshh [[eennvviirroonnmmeenntt vvaarriiaabbllee SSHHEELLLL,, oorr //bbiinn//sshh]]
              Select the shell used by the editor.

       sshheellllmmeettaa [[~~{{[[**??$$``''""\\]]
              Set the meta characters  checked  to  determine  if
              file name expansion is necessary.

       sshhiiffttwwiiddtthh,, ssww [[88]]
              Set  the  autoindent  and shift command indentation
              width.

       sshhoowwmmaattcchh,, ssmm [[ooffff]]
              _V_i only.  Note matching ``{'' and ``(''  for  ``}''
              and ``)'' characters.

       sshhoowwmmooddee,, ssmmdd [[ooffff]]
              _V_i  only.   Display  the  current editor mode and a
              ``modified'' flag.

       ssiiddeessccrroollll [[1166]]
              _V_i only.  Set the amount a left-right  scroll  will
              shift.

       sslloowwooppeenn,, ssllooww [[ooffff]]
              Delay  display  updating  during  text input.  _T_h_i_s
              _o_p_t_i_o_n _i_s _n_o_t _y_e_t _i_m_p_l_e_m_e_n_t_e_d_.

       ssoouurrcceeaannyy [[ooffff]]
              Read startup files not owned by the  current  user.
              _T_h_i_s _o_p_t_i_o_n _w_i_l_l _n_e_v_e_r _b_e _i_m_p_l_e_m_e_n_t_e_d_.

       ttaabbssttoopp,, ttss [[88]]
              This option sets tab widths for the editor display.

       ttaagglleennggtthh,, ttll [[00]]
              Set the number of  significant  characters  in  tag
              names.



                         October 10, 1996                      19





VI(1)                                                       VI(1)


       ttaaggss,, ttaagg [[ttaaggss //vvaarr//ddbb//lliibbcc..ttaaggss //ssyyss//kkeerrnn//ttaaggss]]
              Set the list of tags files.

       tteerrmm,, ttttyyttyyppee,, ttttyy [[eennvviirroonnmmeenntt vvaarriiaabbllee TTEERRMM]]
              Set the terminal type.

       tteerrssee [[ooffff]]
              This  option  has historically made editor messages
              less verbose.  It has no effect in this implementa-
              tion.

       ttiillddeeoopp [[ooffff]]
              Modify  the ~~ command to take an associated motion.

       ttiimmeeoouutt,, ttoo [[oonn]]
              Time out on keys which may be mapped.

       ttttyywweerraassee [[ooffff]]
              _V_i only.  Select an alternate erase algorithm.

       vveerrbboossee [[ooffff]]
              _V_i only.  Display an error message for every error.

       ww330000 [[nnoo ddeeffaauulltt]]
              _V_i  only.   Set the window size if the baud rate is
              less than 1200 baud.

       ww11220000 [[nnoo ddeeffaauulltt]]
              _V_i only.  Set the window size if the baud  rate  is
              equal to 1200 baud.

       ww99660000 [[nnoo ddeeffaauulltt]]
              _V_i  only.   Set the window size if the baud rate is
              greater than 1200 baud.

       wwaarrnn [[oonn]]
              _E_x only.  This option causes a warning  message  to
              the  terminal  if the file has been modified, since
              it was last written, before a !!  command.

       wwiinnddooww,, ww,, wwii [[eennvviirroonnmmeenntt vvaarriiaabbllee LLIINNEESS]]
              Set the window size for the screen.

       wwiinnddoowwnnaammee [[ooffff]]
              Change the icon/window name  to  the  current  file
              name even if it can't be restored on editor exit.

       wwrraapplleenn,, wwll [[00]]
              _V_i  only.  Break lines automatically, the specified
              number of columns from the  left-hand  margin.   If
              both  the  wwrraapplleenn  and wwrraappmmaarrggiinn edit options are
              set, the wwrraappmmaarrggiinn value is used.





                         October 10, 1996                      20





VI(1)                                                       VI(1)


       wwrraappmmaarrggiinn,, wwmm [[00]]
              _V_i only.  Break lines automatically, the  specified
              number  of  columns from the right-hand margin.  If
              both the wwrraapplleenn and wwrraappmmaarrggiinn  edit  options  are
              set, the wwrraappmmaarrggiinn value is used.

       wwrraappssccaann,, wwss [[oonn]]
              Set searches to wrap around the end or beginning of
              the file.

       wwrriitteeaannyy,, wwaa [[ooffff]]
              Turn off file-overwriting checks.

EENNVVIIRROONNMMEENNTTAALL VVAARRIIAABBLLEESS
       _C_O_L_U_M_N_S
              The number of columns on the  screen.   This  value
              overrides  any  system or terminal specific values.
              If the _C_O_L_U_M_N_S environmental variable  is  not  set
              when  _e_x_/_v_i  runs, or the ccoolluummnnss option is explic-
              itly reset by the user, _e_x_/_v_i enters the value into
              the environment.

       _E_X_I_N_I_T A list of _e_x startup commands, read if the variable
              _N_E_X_I_N_I_T is not set.

       _H_O_M_E   The user's home  directory,  used  as  the  initial
              directory path for the startup ``$_H_O_M_E/.nexrc'' and
              ``$_H_O_M_E/.exrc'' files.  This value is also used  as
              the default directory for the _v_i ccdd command.

       _L_I_N_E_S  The number of rows on the screen.  This value over-
              rides any system or terminal specific  values.   If
              the  _L_I_N_E_S  environmental  variable is not set when
              _e_x_/_v_i runs, or the lliinneess option is explicitly reset
              by  the user, _e_x_/_v_i enters the value into the envi-
              ronment.

       _N_E_X_I_N_I_T
              A list of _e_x startup commands.

       _S_H_E_L_L  The user's shell of  choice  (see  also  the  sshheellll
              option).

       _T_E_R_M   The  user's terminal type.  The default is the type
              ``unknown''.  If the _T_E_R_M environmental variable is
              not  set  when  _e_x_/_v_i  runs,  or the tteerrmm option is
              explicitly reset by  the  user,  _e_x_/_v_i  enters  the
              value into the environment.

       _T_M_P_D_I_R The  location  used  to stored temporary files (see
              also the ddiirreeccttoorryy edit option).

AASSYYNNCCHHRROONNOOUUSS EEVVEENNTTSS




                         October 10, 1996                      21





VI(1)                                                       VI(1)


       SIGALRM
              _V_i_/_e_x uses this signal for periodic backups of file
              modifications and to display ``busy'' messages when
              operations are likely to take a long time.

       SIGHUP

       SIGTERM
              If the current buffer has changed since it was last
              written  in  its  entirety,  the editor attempts to
              save the modified file so it can  be  later  recov-
              ered.  See the _v_i_/_e_x Reference manual section enti-
              tled ``Recovery'' for more information.

       SIGINT When an interrupt occurs, the current operation  is
              halted,  and  the  editor  returns  to  the command
              level.  If interrupted during text input, the  text
              already  input  is resolved into the file as if the
              text input had been normally terminated.

       SIGWINCH
              The screen is resized.   See  the  _v_i_/_e_x  Reference
              manual  section  entitled ``Sizing the Screen'' for
              more information.

       SIGCONT

       SIGQUIT

       SIGTSTP
              _V_i_/_e_x ignores these signals.

FFIILLEESS
       /bin/sh
              The default user shell.

       /etc/vi.exrc
              System-wide vi startup file.

       /tmp   Temporary file directory.

       /var/tmp/vi.recover
              The default recovery file directory.

       $HOME/.nexrc
              1st choice for user's home directory startup  file.

       $HOME/.exrc
              2nd  choice for user's home directory startup file.

       .nexrc 1st choice for local directory startup file.

       .exrc  2nd choice for local directory startup file.




                         October 10, 1996                      22





VI(1)                                                       VI(1)


SSEEEE AALLSSOO
       _c_t_a_g_s(1), _m_o_r_e(3), _c_u_r_s_e_s(3), _d_b_o_p_e_n(3)

       The ``Vi Quick Reference'' card.

       ``An Introduction to Display Editing with Vi'',  found  in
       the ``UNIX User's Manual Supplementary Documents'' section
       of both the 4.3BSD and 4.4BSD manual sets.  This  document
       is  the  closest thing available to an introduction to the
       _v_i screen editor.

       ``Ex Reference Manual (Version 3.7)'', found in the ``UNIX
       User's  Manual  Supplementary  Documents'' section of both
       the 4.3BSD and 4.4BSD manual sets.  This document  is  the
       final  reference for the _e_x editor, as distributed in most
       historic 4BSD and System V systems.

       ``Edit: A tutorial'', found in the  ``UNIX  User's  Manual
       Supplementary  Documents''  section  of  the 4.3BSD manual
       set.  This document is an introduction to a simple version
       of the _e_x screen editor.

       ``Ex/Vi  Reference  Manual'',  found  in the ``UNIX User's
       Manual Supplementary Documents''  section  of  the  4.4BSD
       manual  set.  This document is the final reference for the
       _n_e_x_/_n_v_i text editors, as distributed in 4.4BSD and 4.4BSD-
       Lite.

       _R_o_f_f source for all of these documents is distributed with
       _n_e_x_/_n_v_i in the _n_v_i_/_U_S_D_._d_o_c directory of the _n_e_x_/_n_v_i source
       code.

       The   files   ``autowrite'',  ``input'',  ``quoting''  and
       ``structures'' found in the  _n_v_i_/_d_o_c_s_/_i_n_t_e_r_n_a_l_s  directory
       of the _n_e_x_/_n_v_i source code.

HHIISSTTOORRYY
       The  _n_e_x_/_n_v_i  replacements  for  the  _e_x_/_v_i  editor  first
       appeared in 4.4BSD.

SSTTAANNDDAARRDDSS
       _N_e_x_/_n_v_i is close to IEEE Std1003.2 (``POSIX'').  That doc-
       ument  differs  from  historical _e_x_/_v_i practice in several
       places; there are changes to be made on both sides.













                         October 10, 1996                      23


